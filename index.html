<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IRREGULAR WORDLE</title>
  <style>
    /* ... (tout le CSS reste inchang√©) ... */
  </style>
</head>
<body>
  <!-- √âcran d'accueil -->
  <div id="home-screen" class="screen visible">
    <h1>IRREGULAR WORDLE</h1>
    <p>Choisissez un mode :</p>
    <div id="home-buttons-row1">
      <button class="mode-btn round-btn" id="classic-btn">
        <div class="emoji">‚úÖ</div>
        <div class="label">Mode Classique</div>
      </button>
      <button class="mode-btn round-btn" id="chrono-btn">
        <div class="emoji">‚è∞</div>
        <div class="label">Mode Chronom√©tr√©</div>
      </button>
    </div>
    <div id="home-buttons-row2">
      <button class="mode-btn round-btn" id="theme-btn">
        <div class="emoji">üìö</div>
        <div class="label">Verbes par th√®mes</div>
      </button>
      <button class="mode-btn round-btn" id="revise-btn">
        <div class="emoji">üìí</div>
        <div class="label">R√©vise les verbes</div>
      </button>
    </div>
    <button class="mode-btn" id="rules-btn" onclick="location.href='regles.html'">R√®gles du jeu</button>
  </div>

  <!-- √âcran de jeu (Mode Classique, Chrono, Th√®mes) -->
  <div id="game-screen" class="screen">
    <h2 id="game-title"></h2>
    <!-- Pour le mode Chrono, affichage des compteurs -->
    <div id="chrono-counters" style="display:none;">
      <div id="counter-remaining">Preterit restants: 0</div>
      <div id="counter-found">Preterit corrects: 0</div>
    </div>
    <div id="timer-box">Temps restant : 03:00</div>
    <!-- En mode Chrono, la grille est masqu√©e -->
    <div id="board-container" class="hide-board">
      <div id="board"></div>
    </div>
    <div id="virtual-keyboard">
      <div class="keyboard-row" id="row1"></div>
      <div class="keyboard-row" id="row2"></div>
      <div class="keyboard-row" id="row3"></div>
    </div>
    <div id="message"></div>
    <button class="home-btn" id="game-home-btn">Accueil</button>
  </div>

  <!-- √âcran de s√©lection des th√®mes -->
  <div id="theme-screen" class="screen">
    <h2>Choisissez un th√®me</h2>
    <button class="theme-btn" data-theme="indispensables">Verbes Indispensables</button>
    <button class="theme-btn" data-theme="inchanges">Ceux qui ne changent pas</button>
    <button class="theme-btn" data-theme="t">Ceux qui aiment le T</button>
    <button class="theme-btn" data-theme="preterit_past">Preterit = Participe Pass√©</button>
    <button class="theme-btn" data-theme="ght">Les GHT</button>
    <button class="theme-btn" data-theme="minusE">Ceux qui perdent un E</button>
    <button class="theme-btn" data-theme="base_past">Base Verbale = Participe Pass√©</button>
    <button class="theme-btn" data-theme="past_en">Les Participes Pass√©s en EN</button>
    <button class="theme-btn" data-theme="iau">Les I / A / U</button>
    <button class="theme-btn" data-theme="ear_ore_orn">Les EAR / ORE / ORN</button>
    <button class="theme-btn" data-theme="ew">Les Preterits en EW</button>
    <button class="home-btn" id="theme-home-btn" style="background-color: lightblue;">Accueil</button>
  </div>

  <!-- √âcran de r√©vision -->
  <div id="revision-screen" class="screen">
    <h2>R√©vision des verbes irr√©guliers</h2>
    <div id="revision-list" style="max-height:400px; overflow-y:auto; background:rgba(255,255,255,0.9); padding:10px; border-radius:8px;">
      <!-- Le contenu sera g√©n√©r√© dynamiquement -->
    </div>
    <button class="home-btn" id="revise-home-btn">Accueil</button>
  </div>

  <footer>
    <p>Projet r√©alis√© par F. Bertin, du coll√®ge Jean Moulin</p>
    <img src="https://i.ibb.co/BVQNGxTM/logo-Wordle2.png" alt="logo-Wordle2" style="max-width: 200px;">
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      /***** Donn√©es de conjugaison *****/
      const verbData = {
        "be":      { base: "be", preterit: "was / were", past: "been", translation: "√™tre" },
        "have":    { base: "have", preterit: "had", past: "had", translation: "avoir" },
        "do":      { base: "do", preterit: "did", past: "done", translation: "faire" },
        "make":    { base: "make", preterit: "made", past: "made", translation: "fabriquer" },
        "go":      { base: "go", preterit: "went", past: "gone", translation: "aller" },
        "get":     { base: "get", preterit: "got", past: "got", translation: "obtenir" },
        "beat":    { base: "beat", preterit: "beat", past: "beaten", translation: "battre" },
        "become":  { base: "become", preterit: "became", past: "become", translation: "devenir" },
        "begin":   { base: "begin", preterit: "began", past: "begun", translation: "commencer" },
        "bet":     { base: "bet", preterit: "bet", past: "bet", translation: "parier" },
        "bite":    { base: "bite", preterit: "bit", past: "bitten", translation: "mordre" },
        "bleed":   { base: "bleed", preterit: "bled", past: "bled", translation: "saigner" },
        "break":   { base: "break", preterit: "broke", past: "broken", translation: "casser" },
        "bring":   { base: "bring", preterit: "brought", past: "brought", translation: "apporter" },
        "build":   { base: "build", preterit: "built", past: "built", translation: "construire" },
        "burn":    { base: "burn", preterit: "burnt", past: "burnt", translation: "br√ªler" },
        "buy":     { base: "buy", preterit: "bought", past: "bought", translation: "acheter" },
        "cast":    { base: "cast", preterit: "cast", past: "cast", translation: "jeter" },
        "catch":   { base: "catch", preterit: "caught", past: "caught", translation: "attraper" },
        "choose":  { base: "choose", preterit: "chose", past: "chosen", translation: "choisir" },
        "come":    { base: "come", preterit: "came", past: "come", translation: "venir" },
        "cost":    { base: "cost", preterit: "cost", past: "cost", translation: "co√ªter" },
        "cut":     { base: "cut", preterit: "cut", past: "cut", translation: "couper" },
        "draw":    { base: "draw", preterit: "drew", past: "drawn", translation: "dessiner" },
        "dream":   { base: "dream", preterit: "dreamt", past: "dreamt", translation: "r√™ver" },
        "drink":   { base: "drink", preterit: "drank", past: "drunk", translation: "boire" },
        "drive":   { base: "drive", preterit: "drove", past: "driven", translation: "conduire" },
        "eat":     { base: "eat", preterit: "ate", past: "eaten", translation: "manger" },
        "fall":    { base: "fall", preterit: "fell", past: "fallen", translation: "tomber" },
        "feed":    { base: "feed", preterit: "fed", past: "fed", translation: "nourrir" },
        "feel":    { base: "feel", preterit: "felt", past: "felt", translation: "sentir" },
        "fight":   { base: "fight", preterit: "fought", past: "fought", translation: "combattre" },
        "find":    { base: "find", preterit: "found", past: "found", translation: "trouver" },
        "fly":     { base: "fly", preterit: "flew", past: "flown", translation: "voler" },
        "forbid":  { base: "forbid", preterit: "forbade", past: "forbidden", translation: "interdire" },
        "forget":  { base: "forget", preterit: "forgot", past: "forgotten", translation: "oublier" },
        "forgive": { base: "forgive", preterit: "forgave", past: "forgiven", translation: "pardonner" },
        "hang":    { base: "hang", preterit: "hung", past: "hung", translation: "pendre" },
        "hear":    { base: "hear", preterit: "heard", past: "heard", translation: "entendre" },
        "hide":    { base: "hide", preterit: "hid", past: "hidden", translation: "cacher" },
        "hit":     { base: "hit", preterit: "hit", past: "hit", translation: "frapper" },
        "hold":    { base: "hold", preterit: "held", past: "held", translation: "tenir" },
        "hurt":    { base: "hurt", preterit: "hurt", past: "hurt", translation: "blesser" },
        "keep":    { base: "keep", preterit: "kept", past: "kept", translation: "garder" },
        "know":    { base: "know", preterit: "knew", past: "known", translation: "savoir" },
        "learn":   { base: "learn", preterit: "learnt", past: "learnt", translation: "apprendre" },
        "leave":   { base: "leave", preterit: "left", past: "left", translation: "quitter" },
        "let":     { base: "let", preterit: "let", past: "let", translation: "laisser" },
        "lose":    { base: "lose", preterit: "lost", past: "lost", translation: "perdre" },
        "overcome":{ base: "overcome", preterit: "overcame", past: "overcome", translation: "surmonter" },
        "run":     { base: "run", preterit: "ran", past: "run", translation: "courir" },
        "say":     { base: "say", preterit: "said", past: "said", translation: "dire" },
        "see":     { base: "see", preterit: "saw", past: "seen", translation: "voir" },
        "sell":    { base: "sell", preterit: "sold", past: "sold", translation: "vendre" },
        "send":    { base: "send", preterit: "sent", past: "sent", translation: "envoyer" },
        "shoot":   { base: "shoot", preterit: "shot", past: "shot", translation: "tirer" },
        "show":    { base: "show", preterit: "showed", past: "shown", translation: "montrer" },
        "shut":    { base: "shut", preterit: "shut", past: "shut", translation: "fermer" },
        "sing":    { base: "sing", preterit: "sang", past: "sung", translation: "chanter" },
        "sit":     { base: "sit", preterit: "sat", past: "sat", translation: "s‚Äôasseoir" },
        "sleep":   { base: "sleep", preterit: "slept", past: "slept", translation: "dormir" },
        "smell":   { base: "smell", preterit: "smelt", past: "smelt", translation: "sentir (odeur)" },
        "speak":   { base: "speak", preterit: "spoke", past: "spoken", translation: "parler" },
        "spend":   { base: "spend", preterit: "spent", past: "spent", translation: "d√©penser" },
        "steal":   { base: "steal", preterit: "stole", past: "stolen", translation: "voler (d√©rober)" },
        "swim":    { base: "swim", preterit: "swam", past: "swum", translation: "nager" },
        "take":    { base: "take", preterit: "took", past: "taken", translation: "prendre" },
        "teach":   { base: "teach", preterit: "taught", past: "taught", translation: "enseigner" },
        "tear":    { base: "tear", preterit: "tore", past: "torn", translation: "d√©chirer" },
        "tell":    { base: "tell", preterit: "told", past: "told", translation: "raconter" },
        "think":   { base: "think", preterit: "thought", past: "thought", translation: "penser" },
        "throw":   { base: "throw", preterit: "threw", past: "thrown", translation: "jeter" },
        "understand": { base: "understand", preterit: "understood", past: "understood", translation: "comprendre" },
        "wake":    { base: "wake", preterit: "woke", past: "woken", translation: "se r√©veiller" },
        "win":     { base: "win", preterit: "won", past: "won", translation: "gagner" },
        "write":   { base: "write", preterit: "wrote", past: "written", translation: "√©crire" },
        /* Ajouts pour le th√®me EAR / ORE / ORN */
        "bear":    { base: "bear", preterit: "bore", past: "born", translation: "supporter" },
        "swear":   { base: "swear", preterit: "swore", past: "sworn", translation: "jurer" },
        "wear":    { base: "wear", preterit: "wore", past: "worn", translation: "porter (habits)" }
      };

      /***** Listes de verbes pour chaque mode *****/
      const classicVerbs = [
        "be", "have", "do", "make", "go", "get",
        "beat", "become", "begin", "bet", "bite", "bleed", "break", "bring", "build", "burn", "buy", "cast", "catch", "choose", "come", "cost", "cut", "draw", "dream", "drink", "drive", "eat", "fall", "feed", "feel", "fight", "find", "fly", "forbid", "forget", "forgive", "hang", "hear", "hide", "hit", "hold", "hurt", "keep", "know", "learn", "leave", "let", "lose", "overcome", "run", "say", "see", "sell", "send", "shoot", "show", "shut", "sing", "sit", "sleep", "smell", "speak", "spend", "steal", "swim", "take", "teach", "tear", "tell", "think", "throw", "understand", "wake", "win", "write"
      ];

      const themes = {
        indispensables: ["be", "have", "do", "make", "go", "get"],
        inchanges: ["cut", "bet", "let", "hurt", "put", "shut", "burst", "hit", "cost", "spread", "read", "quit"],
        t: ["burn", "build", "send", "spend", "learn", "lend", "shoot", "lose", "sit"],
        preterit_past: ["find", "hear", "lay", "pay", "say", "sell", "tell", "stand", "understand", "win", "mean", "dream"],
        ght: ["buy", "bring", "fight", "think", "catch", "teach"],
        minusE: ["bleed", "feed", "feel", "keep", "meet", "sleep", "lead", "leave"],
        base_past: ["become", "come", "overcome", "run"],
        past_en: ["beat", "bite", "choose", "eat", "drive", "fall", "forbid", "forget", "forgive", "freeze", "give", "hide", "speak", "steal", "ride", "write"],
        iau: ["begin", "drink", "ring", "sing", "swim"],
        ear_ore_orn: ["bear", "swear", "tear", "wear"],
        ew: ["draw", "blow", "fly", "grow", "know", "throw"]
      };

      let currentVerbs = [];
      let currentChosenVerb = "";

      /***** Variables globales du Mode Chronom√©tr√© *****/
      let chronoRemaining = 0;  // Nombre de Preterit restants
      let chronoFound = 0;      // Nombre de Preterit corrects trouv√©s
      let chronoFoundWords = []; // Liste des Preterits d√©j√† valid√©s

      const guessLimit = 5;
      let solutionWord = "";
      let currentRow = 0;
      let gameOver = false;
      let currentGuess = "";
      let gameStartTime = 0;
      let currentStreak = 0;
      let bestStreak = localStorage.getItem("bestStreak") ? parseInt(localStorage.getItem("bestStreak")) : 0;
      let timerInterval = null;
      let remainingTime = 180; // 3 minutes pour le mode Chronom√©tr√©
      let currentMode = "";
      let currentThemeName = "";

      const scoreBox = document.getElementById("score-box");
      const timerBox = document.getElementById("timer-box");
      const boardElem = document.getElementById("board");
      const messageElem = document.getElementById("message");

      const keyboardLayout = [
        ["A", "Z", "E", "R", "T", "Y", "U", "I", "O", "P"],
        ["Q", "S", "D", "F", "G", "H", "J", "K", "L", "M"],
        ["Delete", "W", "X", "C", "V", "B", "N", "Enter"]
      ];

      /***** Fonctions d'affichage des √©crans *****/
      function showScreen(screenId) {
        document.querySelectorAll('.screen').forEach(screen => screen.classList.remove('visible'));
        document.getElementById(screenId).classList.add('visible');
      }

      /***** Initialisation et cr√©ation du jeu *****/
      function chooseSolution() {
        const randIndex = Math.floor(Math.random() * currentVerbs.length);
        currentChosenVerb = currentVerbs[randIndex];
        return verbData[currentChosenVerb].preterit;
      }

      // En mode Chrono, pas de grille.
      function createBoard() {
        boardElem.innerHTML = "";
      }

      function updateScoreBox() {
        scoreBox.textContent = "Meilleur s√©rie : " + bestStreak + " | S√©rie actuelle : " + currentStreak;
      }

      function initGame() {
        const oldInfo = document.getElementById("verb-info");
        if (oldInfo) oldInfo.remove();
        solutionWord = chooseSolution();
        gameOver = false;
        currentGuess = "";
        messageElem.textContent = "";
        updateScoreBox();
        clearKeyboardColors();
        enableKeyboard();
        gameStartTime = Date.now();
        console.log("Mode Chrono - mot (Pr√©t√©rit) choisi :", solutionWord);
      }

      /***** Chronom√®tre pour le mode Chronom√©tr√© *****/
      function startTimer() {
        remainingTime = 180;
        timerBox.textContent = "Temps restant : " + formatTime(remainingTime);
        timerInterval = setInterval(() => {
          remainingTime--;
          timerBox.textContent = "Temps restant : " + formatTime(remainingTime);
          if (remainingTime <= 0) {
            clearInterval(timerInterval);
            displayTimeUpModal();
          }
        }, 1000);
      }
      function stopTimer() {
        clearInterval(timerInterval);
        timerBox.textContent = "";
      }
      function formatTime(seconds) {
        const m = Math.floor(seconds / 60);
        const s = seconds % 60;
        return m.toString().padStart(2, '0') + ":" + s.toString().padStart(2, '0');
      }

      /***** Modale de fin du mode Chronom√©tr√© *****/
      function displayTimeUpModal() {
        const infoContainer = document.createElement("div");
        infoContainer.id = "verb-info";
        let content = `<p>Temps imparti √©coul√© !</p>
                       <p>Preterit corrects trouv√©s : ${chronoFound}</p>
                       <p>Preterit restants : ${chronoRemaining}</p>
                       <img src="https://ibb.co/4Z54cRCp" style="width:85px; display:block; margin:10px auto;">`;
        const modalButton = document.createElement("button");
        modalButton.id = "modal-button";
        modalButton.textContent = "Accueil";
        modalButton.addEventListener("click", () => {
          infoContainer.remove();
          goHome();
        });
        infoContainer.innerHTML = `<h3 style="text-align:center;">Temps √©coul√© !</h3>
                                   <div style="text-align:center;">${content}</div>`;
        infoContainer.appendChild(modalButton);
        document.body.appendChild(infoContainer);
        new Audio("fail.mp3").play();
      }

      /***** Gestion de l'√©valuation en mode Chronom√©tr√© *****/
      function handleGuessChrono() {
        if (currentGuess.trim() === "") return;
        let entered = currentGuess.trim().toUpperCase();
        let valid = false;
        for (let v of currentVerbs) {
          let pret = verbData[v].preterit.toUpperCase();
          if (entered === pret && !chronoFoundWords.includes(entered)) {
            valid = true;
            chronoFoundWords.push(entered);
            break;
          }
        }
        if (valid) {
          chronoFound++;
          chronoRemaining--;
          updateChronoCounters();
          new Audio("success.mp3").play();
        } else {
          const vk = document.getElementById("virtual-keyboard");
          vk.classList.add("shake");
          setTimeout(() => { vk.classList.remove("shake"); }, 500);
          new Audio("fail.mp3").play();
        }
        currentGuess = "";
      }
      function updateChronoCounters() {
        document.getElementById("counter-remaining").textContent = "Preterit restants: " + chronoRemaining;
        document.getElementById("counter-found").textContent = "Preterit corrects: " + chronoFound;
      }

      /***** Gestion de la saisie *****/
      function handleKey(key) {
        if (gameOver) return;
        if (key === "Enter") {
          if (currentMode === "chrono") {
            handleGuessChrono();
          }
        } else if (key === "Delete") {
          if (currentGuess.length > 0) {
            currentGuess = currentGuess.slice(0, -1);
          }
        } else {
          if (currentMode === "chrono") {
            currentGuess += key.toLowerCase();
          }
        }
      }

      /***** Clavier virtuel *****/
      function createKeyboard() {
        ["row1", "row2", "row3"].forEach(rowId => {
          document.getElementById(rowId).innerHTML = "";
        });
        keyboardLayout.forEach((row, rowIndex) => {
          const rowElem = document.getElementById("row" + (rowIndex + 1));
          row.forEach(key => {
            const keyButton = document.createElement("button");
            keyButton.textContent = key;
            keyButton.classList.add("key");
            if(key.toUpperCase() === "ENTER") {
              keyButton.classList.add("enter");
            }
            if(key.toUpperCase() === "DELETE") {
              keyButton.classList.add("delete");
            }
            keyButton.addEventListener("click", () => handleKey(key));
            rowElem.appendChild(keyButton);
          });
        });
      }

      function disableKeyboard() {
        document.querySelectorAll(".key").forEach(key => key.disabled = true);
      }
      function enableKeyboard() {
        document.querySelectorAll(".key").forEach(key => key.disabled = false);
      }
      function updateKeyColor(letter, status) {
        document.querySelectorAll(".key").forEach(key => {
          if (key.textContent.toLowerCase() === letter) {
            if (status === "correct") {
              key.style.backgroundColor = "#6aaa64";
              key.style.color = "white";
            } else if (status === "present" && key.style.backgroundColor !== "rgb(106, 170, 100)") {
              key.style.backgroundColor = "#c9b458";
              key.style.color = "white";
            } else if (status === "absent" &&
                       key.style.backgroundColor !== "rgb(106, 170, 100)" &&
                       key.style.backgroundColor !== "rgb(201, 180, 88)") {
              key.style.backgroundColor = "#787c7e";
              key.style.color = "white";
            }
          }
        });
      }
      function clearKeyboardColors() {
        document.querySelectorAll(".key").forEach(key => {
          key.style.backgroundColor = "";
          key.style.color = "";
        });
        enableKeyboard();
      }

      /***** Gestion des boutons Accueil *****/
      function goHome() {
        if (currentMode === "chrono") stopTimer();
        const modal = document.getElementById("verb-info");
        if(modal) modal.remove();
        showScreen("home-screen");
      }

      /***** Modes de jeu *****/
      function startClassicGame() {
        currentMode = "classic";
        document.getElementById("game-title").textContent = "Mode Classique";
        timerBox.style.display = "none";
        document.getElementById("chrono-counters").style.display = "none";
        document.getElementById("board-container").classList.remove("hide-board");
        currentVerbs = classicVerbs;
        initGame();
        createKeyboard();
        showScreen("game-screen");
      }
      function startChronoGame() {
        currentMode = "chrono";
        document.getElementById("game-title").textContent = "Mode Chronom√©tr√©";
        timerBox.style.display = "block";
        document.getElementById("chrono-counters").style.display = "flex";
        document.getElementById("board-container").classList.add("hide-board");
        chronoRemaining = classicVerbs.length;
        chronoFound = 0;
        chronoFoundWords = [];
        updateChronoCounters();
        currentVerbs = classicVerbs;
        initGame();
        createKeyboard();
        remainingTime = 180;
        startTimer();
        showScreen("game-screen");
      }
      function startThemeSelection() {
        showScreen("theme-screen");
      }
      function startThemeGame(themeKey) {
        currentMode = "theme";
        const themeNames = {
          indispensables: "Verbes Indispensables",
          inchanges: "Ceux qui ne changent pas",
          t: "Ceux qui aiment le T",
          preterit_past: "Preterit = Participe Pass√©",
          ght: "Les GHT",
          minusE: "Ceux qui perdent un E",
          base_past: "Base Verbale = Participe Pass√©",
          past_en: "Les Participes Pass√©s en EN",
          iau: "Les I / A / U",
          ear_ore_orn: "Les EAR / ORE / ORN",
          ew: "Les Preterits en EW"
        };
        currentThemeName = themeNames[themeKey] || "Th√®me s√©lectionn√©";
        document.getElementById("game-title").textContent = currentThemeName;
        currentVerbs = themes[themeKey] || [];
        if (currentVerbs.length === 0) {
          alert("Aucun verbe pour ce th√®me.");
          return;
        }
        timerBox.style.display = "none";
        document.getElementById("chrono-counters").style.display = "none";
        document.getElementById("board-container").classList.remove("hide-board");
        initGame();
        createKeyboard();
        showScreen("game-screen");
      }
      function startRevision() {
        const revisionList = document.getElementById("revision-list");
        revisionList.innerHTML = "";
        for (const [theme, verbs] of Object.entries({
          "Verbes Indispensables": themes.indispensables,
          "Ceux qui ne changent pas": themes.inchanges,
          "Ceux qui aiment le T": themes.t,
          "Preterit = Participe Pass√©": themes.preterit_past,
          "Les GHT": themes.ght,
          "Ceux qui perdent un E": themes.minusE,
          "Base Verbale = Participe Pass√©": themes.base_past,
          "Les Participes Pass√©s en EN": themes.past_en,
          "Les I / A / U": themes.iau,
          "Les EAR / ORE / ORN": themes.ear_ore_orn,
          "Les Preterits en EW": themes.ew
        })) {
          const section = document.createElement("div");
          section.style.marginBottom = "15px";
          section.innerHTML = `<h3>${theme}</h3>`;
          verbs.forEach(v => {
            const data = verbData[v];
            if (data) {
              section.innerHTML += `<p>${data.base.toUpperCase()} / ${data.preterit.toUpperCase()} / ${data.past.toUpperCase()} : ${data.translation.toUpperCase()}</p>`;
            }
          });
          revisionList.appendChild(section);
        }
        showScreen("revision-screen");
      }
      /***** √âv√©nements *****/
      document.getElementById("classic-btn").addEventListener("click", startClassicGame);
      document.getElementById("chrono-btn").addEventListener("click", startChronoGame);
      document.getElementById("theme-btn").addEventListener("click", startThemeSelection);
      document.getElementById("revise-btn").addEventListener("click", startRevision);
      document.getElementById("game-home-btn").addEventListener("click", goHome);
      document.getElementById("theme-home-btn").addEventListener("click", goHome);
      document.getElementById("revise-home-btn").addEventListener("click", goHome);
      document.querySelectorAll("button.theme-btn").forEach(btn => {
        btn.addEventListener("click", function() {
          const themeKey = this.getAttribute("data-theme");
          if (themeKey) startThemeGame(themeKey);
        });
      });
      showScreen("home-screen");
    });
  </script>
</body>
</html>
